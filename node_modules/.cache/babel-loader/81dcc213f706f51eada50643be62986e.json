{"ast":null,"code":"var _jsxFileName = \"/home/empawebadmin/empaweb/frontend/src/containers/Login/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport style from \"./style.module.scss\";\nimport { API_HOST, create_training, delete_training, update_training } from \"../../api_utils\";\nimport { Form, Col, Row, InputGroup, Alert } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { UserContext } from \"../../UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Modal = props => {\n  _s();\n\n  const [validated, setValidated] = useState(false);\n  const [loginError, setLoginError] = useState(false);\n  const [data, setData] = useState({});\n  const history = useHistory();\n  const hey = useContext(UserContext);\n  useEffect(() => {}, []);\n\n  const handle = e => {\n    const newbody = { ...data\n    };\n    newbody[e.target.id] = e.target.value;\n    setData(newbody);\n  };\n\n  const submit = e => {\n    const form = e.currentTarget;\n\n    if (form.checkValidity() === false) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    setValidated(true);\n    e.preventDefault();\n\n    if (form.checkValidity() === true) {\n      axios.post(`${API_HOST}/account/login`, data).then(res => {\n        const data = {\n          islogin: true\n        };\n        localStorage.setItem(\"token\", res.data.token);\n        setLoginError(false);\n        props.setLogin(data);\n        history.push(\"/\");\n      }).catch(error => {\n        console.log(error);\n        setLoginError(true);\n      });\n    }\n  };\n\n  const handleSubmit = event => {\n    const form = event.currentTarget;\n\n    if (form.checkValidity() === false) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    setValidated(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.modalBackground,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.modalContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.titleCloseBtn,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            history.push(\"/\");\n          },\n          children: \"\\u0425\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.title,\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u041D\\u044D\\u0432\\u0442\\u0440\\u044D\\u0445 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        noValidate: true,\n        validated: validated,\n        onSubmit: submit,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Col,\n            md: \"0\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              required: true,\n              type: \"text\",\n              placeholder: \"Username\",\n              defaultValue: data.title,\n              onChange: e => handle(e),\n              id: \"username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Col,\n            md: \"0\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              required: true,\n              type: \"Password\",\n              placeholder: \"Password\",\n              defaultValue: data.price,\n              onChange: e => handle(e),\n              id: \"password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.footer,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"\\u0417\\u04E9\\u0432\\u0448\\u04E9\\u04E9\\u0440\\u04E9\\u0445\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), loginError ? /*#__PURE__*/_jsxDEV(Alert, {\n          bsStyle: \"warning\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u0410\\u043B\\u0434\\u0430\\u0430!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), \" \\u041D\\u044D\\u0432\\u0440\\u0442\\u044D\\u0445 \\u043D\\u044D\\u0440 \\u0431\\u043E\\u043B\\u043E\\u043D \\u043D\\u0443\\u0443\\u0446 \\u04AF\\u0433\\u044D\\u044D \\u0448\\u0430\\u043B\\u0433\\u0430\\u043D\\u0430 \\u0443\\u0443.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this) : \"\", \";\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Modal, \"afY8ssNcc+HCIE7b1//E9XaKYuo=\", false, function () {\n  return [useHistory];\n});\n\n_c = Modal;\nexport default Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"sources":["/home/empawebadmin/empaweb/frontend/src/containers/Login/index.js"],"names":["React","useContext","useEffect","useState","style","API_HOST","create_training","delete_training","update_training","Form","Col","Row","InputGroup","Alert","Link","useHistory","axios","UserContext","Modal","props","validated","setValidated","loginError","setLoginError","data","setData","history","hey","handle","e","newbody","target","id","value","submit","form","currentTarget","checkValidity","preventDefault","stopPropagation","post","then","res","islogin","localStorage","setItem","token","setLogin","push","catch","error","console","log","handleSubmit","event","modalBackground","modalContainer","titleCloseBtn","title","price","footer"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport style from \"./style.module.scss\";\r\nimport {\r\n  API_HOST,\r\n  create_training,\r\n  delete_training,\r\n  update_training,\r\n} from \"../../api_utils\";\r\n\r\nimport { Form, Col, Row, InputGroup, Alert } from \"react-bootstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../../UserContext\";\r\nconst Modal = (props) => {\r\n  const [validated, setValidated] = useState(false);\r\n  const [loginError, setLoginError] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const history = useHistory();\r\n\r\n  const hey = useContext(UserContext);\r\n  useEffect(() => {}, []);\r\n\r\n  const handle = (e) => {\r\n    const newbody = { ...data };\r\n\r\n    newbody[e.target.id] = e.target.value;\r\n    setData(newbody);\r\n  };\r\n  const submit = (e) => {\r\n    const form = e.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n\r\n    setValidated(true);\r\n    e.preventDefault();\r\n    if (form.checkValidity() === true) {\r\n      axios\r\n        .post(`${API_HOST}/account/login`, data)\r\n        .then((res) => {\r\n          const data = { islogin: true };\r\n          localStorage.setItem(\"token\", res.data.token);\r\n          setLoginError(false);\r\n          props.setLogin(data);\r\n          history.push(\"/\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          setLoginError(true);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    const form = event.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n\r\n    setValidated(true);\r\n  };\r\n  return (\r\n    <div className={style.modalBackground}>\r\n      <div className={style.modalContainer}>\r\n        <div className={style.titleCloseBtn}>\r\n          <button\r\n            onClick={(e) => {\r\n              history.push(\"/\");\r\n            }}\r\n          >\r\n            Х\r\n          </button>\r\n        </div>\r\n        <div className={style.title}>\r\n          <h1>Нэвтрэх </h1>\r\n        </div>\r\n        <Form noValidate validated={validated} onSubmit={submit}>\r\n          <Row className=\"mb-3\">\r\n            <Form.Group as={Col} md=\"0\">\r\n              <Form.Control\r\n                required\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                defaultValue={data.title}\r\n                onChange={(e) => handle(e)}\r\n                id=\"username\"\r\n              />\r\n            </Form.Group>\r\n          </Row>\r\n          <Row className=\"mb-3\">\r\n            <Form.Group as={Col} md=\"0\">\r\n              <Form.Control\r\n                required\r\n                type=\"Password\"\r\n                placeholder=\"Password\"\r\n                defaultValue={data.price}\r\n                onChange={(e) => handle(e)}\r\n                id=\"password\"\r\n              />\r\n            </Form.Group>\r\n          </Row>\r\n          <div className={style.footer}>\r\n            <button type=\"submit\">Зөвшөөрөх</button>\r\n          </div>\r\n          {loginError ? (\r\n            <Alert bsStyle=\"warning\">\r\n              <strong>Алдаа!</strong> Нэвртэх нэр болон нууц үгээ шалгана уу.\r\n            </Alert>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          ;\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n"]},"metadata":{},"sourceType":"module"}